# Общее количество запросов 
cat access.log | wc -l

# Общее количество запросов по типу, например: GET - 20, POST - 10 и т.д.
# Читаем файл, после разделителя берем 2 часть, из нее забираем тип запроса, сортируем и выводим уникальные с кол-вом запросов
cat access.log | awk -F'"' '{print $2}' | awk '{print $1}' | sort | uniq -c | awk '{print $2,$1}'


# Топ 10 самых частых запросов:
# Читаем файл, после разделителя берем 2 часть, из нее забираем url, сортируем и выводим 10 уникальнх запросов с кол-вом
cat access.log | awk -F'"' '{print $2}' | awk '{print $2}' | sort | uniq -c | sort -n | tail

# Топ 5 самых больших по размеру запросов, которые завершились клиентской (4ХХ) ошибкой
# Читаем файл, берем только те, у которых 9 стобец соотвествует шаблону, сортируем по уникальности и по 10 столбцу, берем 5 с конца
cat access.log | awk -F' ' '$9 ~ /^4../' | uniq | sort -nk 10 | awk '{print $7, $9, $10, $1}' | tail -n 5

# Топ 5 пользователей по количеству запросов, которые завершились серверной (5ХХ) ошибкой
# Читаем файл, берем только те, у которых 9 стобец соотвествует шаблону, сортируем по уникальности, берем 5 с конца
cat access.log | awk -F' ' '$9 ~ /^5../{print $1}' | uniq -c | sort -n | awk '{print $2, $1}' | tail -n 5

Из python-скрипта логи сохраняются в файл "parsed_log.txt"
С флагом "--json" логи сохраняются в файл "parsed_log.json"
